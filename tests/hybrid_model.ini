[DataSources]
event_data		= /Users/asadh/Documents/Data/event_data.h5
selection_data  = /Users/asadh/Documents/Data/selection_function_prior_fix.h5

[Output]
samples  		= /Users/asadh/Documents/Data/result_31_march_hybrid_spin.csv
plots			= /Users/asadh/Documents/Data/result_31_march_hybrid_spin.pdf

[Models]
mass            = SmoothedTwoComponentPrimaryMassRatio(mmin_fixed=2, mmax_fixed=100, gaussian_mass_maximum=100)
redshift        = PowerLawRedshift(z_max=1.9)
spin_magnitude	= IIDTruncatedGaussian1DAnalytic(a=0, b=1)

[Variables.Population]
mass 			= [alpha, beta, lam, mpp, sigpp, delta_m, mmin, mmax]
redshift 		= [lamb]
spin_magnitude	= [mu_chi, sigma_chi]

[Variables.Event]
mass 			= [mass_1_source, mass_ratio]
redshift 		= [redshift]
spin_magnitude	= [chi_1, chi_2]


[Likelihood]
type = HybridPopulationLikelihood
enforce_convergence=False

[Sampler]
num_samples = 2000
num_warmup = 200
target_accept_prob = 0.7
just_prior = False


[Priors]
alpha 			= dist.Uniform(-4,12)
lam 			= dist.Uniform(0,1)
mmin 			= dist.Uniform(2,10)
mmax 			= dist.Uniform(70,100)
beta 			= dist.Uniform(-2,7)
mpp 			= dist.Uniform(20,50)
sigpp 			= dist.Uniform(1,10)
delta_m 		= dist.Uniform(0,12)
mu_chi 			= dist.Uniform(0,1)
sigma_chi 		= dist.Uniform(0,3)
mu_spin 		= dist.Uniform(0,1)
sigma_spin 		= dist.Uniform(0,3)
lamb 			= dist.Uniform(-10,10)

[Latex]
alpha 			= r"$\alpha$"
lam 			= r"$\lambda_m$"
mmin 			= r"$m_{min}$"
mmax 			= r"$m_{max}$"
beta 			= r"$\beta$"
mpp 			= r"$\mu_m$"
sigpp 			= r"$\sigma_m$"
delta_m 		= r"$\delta_m$"
mu_chi 			= r"$\mu_\chi$"
sigma_chi 		= r"$\sigma^2_\chi$"
xi_spin 		= r"$\xi_{spin}$"
sigma_spin 		= r"$\sigma_{spin}$"
lamb 			= r"$\kappa$"


[Plot]
lvk_samples 	= /Users/asadh/Documents/Github/gravpop_pipe/dev/lvk_results.csv