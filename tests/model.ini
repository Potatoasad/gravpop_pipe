[DataSources]
event_data		= /Users/asadh/Documents/Data/posteriors.pkl
selection_data  = /Users/asadh/Documents/Data/selection_function_fixed_z_max_1p9_all_samples.h5

[Output]
samples  		= /Users/asadh/Documents/Data/result_25_march_w_cuts_2.csv
plots			= /Users/asadh/Documents/Data/result_25_march_w_cuts_2.pdf

[Models]
mass            = SmoothedTwoComponentPrimaryMassRatio(mmin_fixed=2, mmax_fixed=100, gaussian_mass_maximum=100)
redshift        = PowerLawRedshift(z_max=1.9)
spin_magnitude	= BetaSpinMagnitudeIID(parameterization="mu_sigma")
spin_orientation= GaussianIsotropicSpinOrientationsIID()

[Variables.Population]
mass 			= [alpha, beta, lam, mpp, sigpp, delta_m, mmin, mmax]
redshift 		= [lamb]
spin_magnitude	= [mu_chi, sigma_chi]
spin_orientation= [xi_spin, sigma_spin]

[Variables.Event]
mass 			= [mass_1_source, mass_ratio]
redshift 		= [redshift]
spin_magnitude	= [chi_1, chi_2]
spin_orientation= [cos_tilt_1, cos_tilt_2]


[Likelihood]
type = PopulationLikelihood
enforce_convergence=True
samples_per_event=5000

[Sampler]
num_samples = 8000
num_warmup = 200
target_accept_prob = 0.6
just_prior = False


[Priors]
alpha 			= dist.Uniform(-4,12)
lam 			= dist.Uniform(0,1)
mmin 			= dist.Uniform(2,10)
mmax 			= dist.Uniform(70,100)
beta 			= dist.Uniform(-2,7)
mpp 			= dist.Uniform(20,50)
sigpp 			= dist.Uniform(1,10)
delta_m 		= dist.Uniform(0,12)
mu_chi 			= dist.Uniform(0,1)
sigma_chi 		= dist.Uniform(0.005,0.25)
xi_spin 		= dist.Uniform(0,1)
sigma_spin 		= dist.Uniform(0.3, 5)
lamb 			= dist.Uniform(-10,10)


[Constraints]
alpha_beta_1	= AlphaBetaConstraint(alpha=[1,1e5], beta=[1,1e5], hyper_var_names=['mu_chi','sigma_chi'])


[Latex]
alpha 			= r"$\alpha$"
lam 			= r"$\lambda_m$"
mmin 			= r"$m_{min}$"
mmax 			= r"$m_{max}$"
beta 			= r"$\beta$"
mpp 			= r"$\mu_m$"
sigpp 			= r"$\sigma_m$"
delta_m 		= r"$\delta_m$"
mu_chi 			= r"$\mu_\chi$"
sigma_chi 		= r"$\sigma^2_\chi$"
xi_spin 		= r"$\xi_{spin}$"
sigma_spin 		= r"$\sigma_{spin}$"
lamb 			= r"$\kappa$"


[Plot]
lvk_samples 	= /Users/asadh/Documents/Github/gravpop_pipe/dev/lvk_results.csv